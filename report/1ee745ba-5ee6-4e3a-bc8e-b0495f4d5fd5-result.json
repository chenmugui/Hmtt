{"name": "test_app_article[python-Python]", "status": "broken", "statusDetails": {"message": "AttributeError: module 'allure' has no attribute 'attach_type'", "trace": "self = <uiAutoTestHmtt.scripts.test06_app_article.TestAppArticle object at 0x0000021C5AC83FD0>, click_text = 'python', title = 'Python'\n\n    @pytest.mark.parametrize(\"click_text,title\", read_yaml(\"app_article.yaml\"))\n    def test_app_article(self, click_text, title):\n        try:\n            # 调用发布文章业务方法\n>           self.article.page_app_article(click_text, title)\n\nscripts\\test06_app_article.py:33: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <uiAutoTestHmtt.page.page_app_article.PageAppArticle object at 0x0000021C5AC833C8>, find_text = 'python', title = 'Python'\n\n    def page_app_article(self, find_text, title):\n        log.info(\"正在调用查询文章业务方法 文章频道：{} 文章title:{}\".format(find_text, title))\n        # 1. 调用查找频道\n>       self.page_click_channel(find_text)\n\npage\\page_app_article.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <uiAutoTestHmtt.page.page_app_article.PageAppArticle object at 0x0000021C5AC833C8>, click_text = 'python'\n\n    def page_click_channel(self, click_text):\n        # 调用 从右向左滑动方法\n>       self.app_base_right_wipe_left(uiAutoTestHmtt.page.app_channel_area, click_text)\n\npage\\page_app_article.py:12: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <uiAutoTestHmtt.page.page_app_article.PageAppArticle object at 0x0000021C5AC833C8>, loc_area = ('xpath', \"//*[@class='android.widget.HorizontalScrollView']\")\nclick_text = 'python'\n\n    def app_base_right_wipe_left(self, loc_area, click_text):\n        log.info(\"正在调用从右向左滑动屏幕方法\")\n        # 1. 查找区域元素\n>       el = self.base_find(loc_area)\n\nbase\\app_base.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <uiAutoTestHmtt.page.page_app_article.PageAppArticle object at 0x0000021C5AC833C8>, loc = ('xpath', \"//*[@class='android.widget.HorizontalScrollView']\"), timeout = 30\npoll = 0.5\n\n    def base_find(self, loc, timeout=30, poll=0.5):\n        \"\"\"\n        :param loc: 格式为列表或元祖，内容：元素定位信息使用By类\n        :param timeout: 查找元素超时时间，默认 30秒\n        :param poll: 查找元素频率 默认为0.5\n        :return: 元素\n        \"\"\"\n        log.info(\"正在查找元素：{}\".format(loc))\n        return (WebDriverWait(self.driver,\n                              timeout=timeout,\n>                             poll_frequency=poll).until(lambda x: x.find_element(*loc)))\n\nbase\\base.py:28: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"b668c3e2-a869-4e21-b532-b8e2925bc5fa\")>\nmethod = <function Base.base_find.<locals>.<lambda> at 0x0000021C5ABE2B70>, message = ''\n\n    def until(self, method, message=''):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value is not False.\"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.time() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, 'screen', None)\n                stacktrace = getattr(exc, 'stacktrace', None)\n            time.sleep(self._poll)\n            if time.time() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message:\n\nc:\\python\\python37\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:80: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nself = <uiAutoTestHmtt.scripts.test06_app_article.TestAppArticle object at 0x0000021C5AC83FD0>, click_text = 'python', title = 'Python'\n\n    @pytest.mark.parametrize(\"click_text,title\", read_yaml(\"app_article.yaml\"))\n    def test_app_article(self, click_text, title):\n        try:\n            # 调用发布文章业务方法\n            self.article.page_app_article(click_text, title)\n        except Exception as e:\n            # 1. 日志\n            log.error(e)\n            # 2. 截图\n>           self.article.base_get_img()\n\nscripts\\test06_app_article.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nbase\\base.py:68: in base_get_img\n    self.__base_write_img()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <uiAutoTestHmtt.page.page_app_article.PageAppArticle object at 0x0000021C5AC833C8>\n\n    def __base_write_img(self):\n        # 1. 获取图片文件流\n        with open(\"./image/err.png\", \"rb\") as f:\n            # 2. 调用allure.attach附加方法\n>           allure.attach(\"错误原因：\", f.read(), allure.attach_type.PNG)\nE           AttributeError: module 'allure' has no attribute 'attach_type'\n\nbase\\base.py:75: AttributeError"}, "attachments": [{"name": "log", "source": "5b69decd-a581-4b41-9b7e-ae934bb272f2-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "click_text", "value": "'python'"}, {"name": "title", "value": "'Python'"}], "start": 1619163558728, "stop": 1619163592197, "uuid": "b89c9842-74f0-487c-ab99-1b8562b98849", "historyId": "71b9bdc0e45319d7a524bd6384a645e6", "testCaseId": "fc335627585dcc9fbba9441bb898f94d", "fullName": "scripts.test06_app_article.TestAppArticle#test_app_article", "labels": [{"name": "parentSuite", "value": "scripts"}, {"name": "suite", "value": "test06_app_article"}, {"name": "subSuite", "value": "TestAppArticle"}, {"name": "host", "value": "JVAH47KLOGVBZ8N"}, {"name": "thread", "value": "8516-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "scripts.test06_app_article"}]}